{"version":3,"sources":["js/app.js","js/controllers/auth.js","js/directives/dragDrop.js","js/directives/googleMap.js","js/directives/googlePlace.js","js/controllers/main.js","js/router.js","js/models/stop.js","js/controllers/stops.js","js/models/user.js","js/controllers/users.js","js/models/walk.js","js/controllers/walks.js"],"names":["Auth","$authProvider","API_URL","loginUrl","signupUrl","tokenPrefix","RegisterController","$auth","$state","submit","signup","register","user","then","go","this","LoginController","login","credentials","dragDrop","reader","FileReader","restrict","replace","templateUrl","scope","base64","link","$scope","element","active","onload","result","$apply","on","e","preventDefault","file","target","files","dataTransfer","readAsDataURL","googleMap","$window","template","stop","map","google","maps","Map","center","lat","lng","zoom","scrollwheel","minZoom","styles","featureType","elementType","stylers","saturation","color","lightness","visibility","weight","infowindow","InfoWindow","$watch","place","latLng","marker","Marker","position","addListener","close","setContent","purpose","image","id","open","setCenter","googlePlace","options","types","componentRestrictions","country","autocomplete","places","Autocomplete","getPlace","geometry","location","toJSON","google_place_id","place_id","place_name","name","place_address","MainController","$rootScope","logout","secureState","toState","main","message","isAuthenticated","protectedStates","includes","toggleMenu","console","log","menuVisible","isLoggedIn","$on","Router","$stateProvider","$urlRouterProvider","state","url","controller","otherwise","Stop","$resource","update","method","StopsIndexController","filter","regex","RegExp","stopsIndex","queryString","test","description","username","all","query","StopsShowController","deleteStop","stopsShow","$remove","get","params","delete","isAuthenicated","StopsNewController","create","save","stopsNew","StopsEditController","stopsEdit","$update","User","UsersIndexController","usersIndex","UsersShowController","deleteUser","usersShow","UsersEditController","usersEdit","Walk","WalksIndexController","walk","walksIndex","WalksShowController","showCreateForm","walksShow","formVisible","hideCreateForm","newStop","createStop","walk_id","deleteWalk","WalksNewController","walksNew","WalksEditController","walksEdit","angular","module","constant","config","$inject","directive","factory"],"mappings":"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","file":"app.js","sourcesContent":["angular.module('finalProject', ['ngResource', 'ui.router', 'satellizer'])\n  .constant('API_URL', 'http://localhost:3000/api')\n  .config(Auth);\n\nAuth.$inject = ['$authProvider', 'API_URL'];\nfunction Auth($authProvider, API_URL) {\n  $authProvider.loginUrl = `${API_URL}/login`;\n  $authProvider.signupUrl = `${API_URL}/register`;\n\n  $authProvider.tokenPrefix = '';\n}\n","angular.module('finalProject')\n  .controller('RegisterController', RegisterController)\n  .controller('LoginController', LoginController);\n\nRegisterController.$inject = ['$auth', '$state'];\nfunction RegisterController($auth, $state) {\n  const register = this;\n\n  register.user = {};\n\n  function submit() {\n    $auth.signup(register.user)\n      .then(() => {\n        $state.go('login');\n      });\n  }\n\n  register.submit = submit;\n}\n\nLoginController.$inject = ['$auth', '$state'];\nfunction LoginController($auth, $state) {\n  const login = this;\n\n  login.credentials = {};\n\n  function submit() {\n    $auth.login(login.credentials)\n      .then(() => {\n        $state.go('usersIndex');\n      });\n  }\n  // function authenticate(provider) {\n  //   $auth.authenticate(provider)\n  //     .then((res) => {\n  //       console.log(res);\n  //     });\n  // }\n\n  login.submit = submit;\n  // login.authenticate =authenticate;\n}\n","angular.module('finalProject')\n  .directive('dragDrop', dragDrop);\n\nfunction dragDrop() {\n\n  const reader = new FileReader();\n\n  return {\n    restrict: 'E',\n    replace: true,\n    templateUrl: 'templates/dragDrop.html',\n    scope: {\n      base64: '='\n    },\n    link($scope, element) {\n\n      $scope.base64 = null;\n      $scope.active = false;\n\n      reader.onload = () => {\n        $scope.base64 = reader.result;\n        $scope.$apply();\n      };\n\n      element\n        .on('dragover', () => {\n          $scope.active= true;\n          $scope.$apply();\n        })\n        .on('dragover', (e) => {\n          e.preventDefault();\n        })\n        .on('dragleave', () => {\n          $scope.active= false;\n          $scope.$apply();\n        })\n        .on('drop', (e) => {\n          e.preventDefault();\n\n          const file = (e.target.files || e.dataTransfer.files)[0];\n\n          reader.readAsDataURL(file);\n        });\n    }\n\n  };\n}\n","angular.module('finalProject')\n.directive('googleMap', googleMap);\n\ngoogleMap.$inject = ['$window'];\nfunction googleMap($window) {\n  return {\n    restrict: 'E',\n    replace: true,\n    template: '<div class=\"google-map\">Google map here!</div>',\n    scope: {\n      stop: '='\n    },\n    link: function($scope, element) {\n\n      const map = new $window.google.maps.Map(element[0], {\n        center: { lat: 51.474191, lng: -0.0713257 },\n        zoom: 15,\n        scrollwheel: false,\n        minZoom: 3,\n        styles: [\n          {\n            'featureType': 'all',\n            'elementType': 'labels.text.fill',\n            'stylers': [\n              {\n                'saturation': 36\n              },\n              {\n                'color': '#000000'\n              },\n              {\n                'lightness': 40\n              }\n            ]\n          },\n          {\n            'featureType': 'all',\n            'elementType': 'labels.text.stroke',\n            'stylers': [\n              {\n                'visibility': 'on'\n              },\n              {\n                'color': '#000000'\n              },\n              {\n                'lightness': 16\n              }\n            ]\n          },\n          {\n            'featureType': 'all',\n            'elementType': 'labels.icon',\n            'stylers': [\n              {\n                'visibility': 'off'\n              }\n            ]\n          },\n          {\n            'featureType': 'administrative',\n            'elementType': 'geometry.fill',\n            'stylers': [\n              {\n                'color': '#000000'\n              },\n              {\n                'lightness': 20\n              }\n            ]\n          },\n          {\n            'featureType': 'administrative',\n            'elementType': 'geometry.stroke',\n            'stylers': [\n              {\n                'color': '#000000'\n              },\n              {\n                'lightness': 17\n              },\n              {\n                'weight': 1.2\n              }\n            ]\n          },\n          {\n            'featureType': 'landscape',\n            'elementType': 'geometry',\n            'stylers': [\n              {\n                'color': '#000000'\n              },\n              {\n                'lightness': 20\n              }\n            ]\n          },\n          {\n            'featureType': 'poi',\n            'elementType': 'geometry',\n            'stylers': [\n              {\n                'color': '#000000'\n              },\n              {\n                'lightness': 21\n              }\n            ]\n          },\n          {\n            'featureType': 'road.highway',\n            'elementType': 'geometry.fill',\n            'stylers': [\n              {\n                'color': '#000000'\n              },\n              {\n                'lightness': 17\n              }\n            ]\n          },\n          {\n            'featureType': 'road.highway',\n            'elementType': 'geometry.stroke',\n            'stylers': [\n              {\n                'color': '#000000'\n              },\n              {\n                'lightness': 29\n              },\n              {\n                'weight': 0.2\n              }\n            ]\n          },\n          {\n            'featureType': 'road.arterial',\n            'elementType': 'geometry',\n            'stylers': [\n              {\n                'color': '#000000'\n              },\n              {\n                'lightness': 18\n              }\n            ]\n          },\n          {\n            'featureType': 'road.local',\n            'elementType': 'geometry',\n            'stylers': [\n              {\n                'color': '#000000'\n              },\n              {\n                'lightness': 16\n              }\n            ]\n          },\n          {\n            'featureType': 'transit',\n            'elementType': 'geometry',\n            'stylers': [\n              {\n                'color': '#000000'\n              },\n              {\n                'lightness': 19\n              }\n            ]\n          },\n          {\n            'featureType': 'water',\n            'elementType': 'geometry',\n            'stylers': [\n              {\n                'color': '#000000'\n              },\n              {\n                'lightness': 17\n              }\n            ]\n          }\n        ]\n\n      });\n\n      const infowindow = new $window.google.maps.InfoWindow();\n\n      $scope.$watch('stop.$resolved', () => {\n        if($scope.stop.place) {\n          const latLng = {\n            lat: $scope.stop.place.lat,\n            lng: $scope.stop.place.lng\n          };\n\n          const marker = new $window.google.maps.Marker({\n            position: latLng,\n            map: map\n          });\n\n          marker.addListener('click', () => {\n            infowindow.close();\n            infowindow.setContent(`<h6 class=\"infoWindowText\">${$scope.stop.purpose}</h6><img src=\"${$scope.stop.image}\" class=\"infoWindowImg\"><a href=\"#/stops/${$scope.stop.id}\">See more about this stop</a><a href=\"#/users/${$scope.stop.user.id}\">See more about this user</a>\n        `);\n\n            infowindow.open(map, marker);\n\n          });\n\n          map.setCenter(latLng);\n        }\n      });\n\n    }\n  };\n}\n","angular.module('finalProject')\n.directive('googlePlace', googlePlace);\n\ngooglePlace.$inject = ['$window'];\n\nfunction googlePlace($window) {\n  return {\n    restrict: 'A',\n    scope: {\n      stop: '='\n    },\n    link: function($scope, element) {\n      const options = {\n        types: [],\n        componentRestrictions: { country: 'GB' }\n      };\n\n      const autocomplete = new $window.google.maps.places.Autocomplete(element[0], options);\n\n      autocomplete.addListener('place_changed', () => {\n        const place = autocomplete.getPlace();\n        const latLng = place.geometry.location.toJSON();\n\n\n        $scope.stop.lat = latLng.lat;\n        $scope.stop.lng = latLng.lng;\n        $scope.stop.google_place_id = place.place_id;\n        $scope.stop.place_name = place.name;\n        $scope.stop.place_address = place.place_address;\n        $scope.$apply();\n      });\n    }\n  };\n}\n","angular.module('finalProject')\n  .controller( 'MainController', MainController);\n\nMainController.$inject = ['$auth', '$state', '$rootScope'];\nfunction MainController($auth, $state, $rootScope) {\n  const main = this;\n  main.isLoggedIn = $auth.isAuthenticated;\n  main.message = null;\n\n  function logout() {\n    $auth.logout()\n      .then(() => {\n        $state.go('login');\n      });\n  }\n  main.logout = logout;\n\n  const protectedStates = ['usersEdit', 'usersShow'];\n\n  function secureState(e, toState) {\n    main.message = null;\n    if(!$auth.isAuthenticated() &&  protectedStates.includes(toState.name)) {\n      e.preventDefault();\n      $state.go('login');\n      main.message= 'You must be logged in to go there!';\n    }\n  }\n  $rootScope.$on('$stateChangeStart', secureState);\n\n  main.menuVisible = false;\n\n  function toggleMenu() {\n    console.log('clicked');\n    main.menuVisible = main.menuVisible ? false : true;\n  }\n\n  main.toggleMenu = toggleMenu;\n\n}\n","angular.module('finalProject')\n  .config(Router);\n\nRouter.$inject = ['$stateProvider', '$urlRouterProvider'];\nfunction Router($stateProvider, $urlRouterProvider) {\n  $stateProvider\n    .state('usersIndex', {\n      url: '/users',\n      templateUrl: '/templates/usersIndex.html',\n      controller: 'UsersIndexController as usersIndex'\n    })\n    .state('register', {\n      url: '/register',\n      templateUrl: '/templates/register.html',\n      controller: 'RegisterController as register'\n    })\n    .state('login', {\n      url: '/login',\n      templateUrl: '/templates/login.html',\n      controller: 'LoginController as login'\n    })\n    .state('usersShow', {\n      url: '/users/:id',\n      templateUrl: '/templates/usersShow.html',\n      controller: 'UsersShowController as usersShow'\n    })\n    .state('usersEdit', {\n      url: '/users/:id/edit',\n      templateUrl: '/templates/usersEdit.html',\n      controller: 'UsersEditController as usersEdit'\n    })\n    .state('walksIndex', {\n      url: '/walks',\n      templateUrl: '/templates/walksIndex.html',\n      controller: 'WalksIndexController as walksIndex'\n    })\n    .state('walksNew', {\n      url: '/walks/new',\n      templateUrl: '/templates/walksNew.html',\n      controller: 'WalksNewController as walksNew'\n    })\n    .state('walksShow', {\n      url: '/walks/:id',\n      templateUrl: '/templates/walksShow.html',\n      controller: 'WalksShowController as walksShow'\n    })\n    .state('walksEdit', {\n      url: '/walks/:id/edit',\n      templateUrl: '/templates/walksEdit.html',\n      controller: 'WalksEditController as walksEdit'\n    })\n    .state('stopsIndex', {\n      url: '/stops',\n      templateUrl: '/templates/stopsIndex.html',\n      controller: 'StopsIndexController as stopsIndex'\n    })\n    .state('stopsNew', {\n      url: '/stops/new',\n      templateUrl: '/templates/stopsNew.html',\n      controller: 'StopsNewController as stopsNew'\n    })\n    .state('stopsShow', {\n      url: '/stops/:id',\n      templateUrl: '/templates/stopsShow.html',\n      controller: 'StopsShowController as stopsShow'\n    })\n    .state('stopsEdit', {\n      url: '/stops/:id/edit',\n      templateUrl: '/templates/stopsEdit.html',\n      controller: 'StopsEditController as stopsEdit'\n    });\n\n\n  $urlRouterProvider.otherwise('/users');\n}\n","angular.module('finalProject')\n  .factory('Stop', Stop);\n\nStop.$inject = ['$resource', 'API_URL'];\nfunction Stop($resource, API_URL) {\n  return new $resource(`${API_URL}/stops/:id`, { id: '@id' }, {\n    update: { method: 'PUT' }\n  });\n}\n","angular.module('finalProject')\n  .controller('StopsIndexController', StopsIndexController)\n  .controller('StopsShowController', StopsShowController)\n  .controller('StopsEditController', StopsEditController)\n  .controller('StopsNewController', StopsNewController);\n\n\n// SHOW ALL STOPS\nStopsIndexController.$inject = ['Stop'];\nfunction StopsIndexController(Stop) {\n  const stopsIndex = this;\n\n  stopsIndex.queryString = '';\n\n  function filter(stop) {\n    const regex = new RegExp(stopsIndex.queryString, 'i');\n    return regex.test(stop.purpose) || regex.test(stop.description) || regex.test(stop.place.name) ||regex.test(stop.user.username);\n  }\n\n  stopsIndex.filter = filter;\n  stopsIndex.all = Stop.query();\n}\n\n// SHOW AN INDIVIDUAL STOP\nStopsShowController.$inject = ['Stop', '$state', '$auth'];\nfunction StopsShowController(Stop, $state, $auth) {\n  const stopsShow = this;\n\n  stopsShow.stop = Stop.get($state.params);\n\n  function deleteStop() {\n    stopsShow.stop.$remove(() => {\n      $state.go('stopsIndex');\n    });\n  }\n\n  stopsShow.delete = deleteStop;\n  stopsShow.isLoggedIn = $auth.isAuthenicated;\n\n}\n\n//CREATE NEW STOP\nStopsNewController.$inject = ['Stop', '$state'];\nfunction StopsNewController(Stop, $state) {\n  const stopsNew = this;\n  stopsNew.stop = {};\n  function create() {\n    Stop.save(stopsNew.stop, (stop) => {\n      $state.go('stopsShow', { id: stop.id });\n    });\n  }\n  stopsNew.create = create;\n}\n\n//EDIT A STOP\nStopsEditController.$inject = ['Stop', '$state'];\nfunction StopsEditController(Stop, $state) {\n  const stopsEdit = this;\n\n  stopsEdit.stop = Stop.get($state.params);\n\n  function update() {\n    stopsEdit.stop.$update(() => {\n      $state.go('stopsShow', $state.params);\n    });\n  }\n\n  this.update = update;\n\n}\n","angular.module('finalProject')\n  .factory('User', User);\n\nUser.$inject = ['$resource', 'API_URL'];\nfunction User($resource, API_URL) {\n  return new $resource(`${API_URL}/users/:id`, { id: '@id' }, {\n    update: { method: 'PUT' }\n  });\n}\n","angular.module('finalProject')\n  .controller('UsersIndexController', UsersIndexController)\n  .controller('UsersShowController', UsersShowController)\n  .controller('UsersEditController', UsersEditController);\n\n\n\nUsersIndexController.$inject = ['User'];\nfunction UsersIndexController(User) {\n  const usersIndex = this;\n\n  usersIndex.all = User.query();\n}\n\nUsersShowController.$inject = ['User', '$state', '$auth'];\nfunction UsersShowController(User, $state, $auth) {\n  const usersShow = this;\n\n  usersShow.user = User.get($state.params);\n\n  function deleteUser() {\n    usersShow.user.$remove(() => {\n      $state.go('usersIndex');\n    });\n  }\n\n  usersShow.delete = deleteUser;\n  usersShow.isLoggedIn = $auth.isAuthenicated;\n\n}\n\nUsersEditController.$inject = ['User', '$state'];\nfunction UsersEditController(User, $state) {\n  const usersEdit = this;\n\n  usersEdit.user = User.get($state.params);\n\n  function update() {\n    usersEdit.user.$update(() => {\n      $state.go('usersShow', $state.params);\n    });\n  }\n\n  this.update = update;\n\n}\n","angular.module('finalProject')\n  .factory('Walk', Walk);\n\nWalk.$inject = ['$resource', 'API_URL'];\nfunction Walk($resource, API_URL) {\n  return new $resource(`${API_URL}/walks/:id`, { id: '@id' }, {\n    update: { method: 'PUT' }\n  });\n}\n","angular.module('finalProject')\n  .controller('WalksIndexController', WalksIndexController)\n  .controller('WalksShowController', WalksShowController)\n  .controller('WalksEditController', WalksEditController)\n  .controller('WalksNewController', WalksNewController);\n\n\n// SHOW ALL WALKS\nWalksIndexController.$inject = ['Walk'];\nfunction WalksIndexController(Walk) {\n  const walksIndex = this;\n\n  walksIndex.queryString = '';\n\n  function filter(walk) {\n    const regex = new RegExp(walksIndex.queryString, 'i');\n    // const stopNames = walk.stops.map((stop) => {\n    //   return stop.name;\n    // }).join(', ');\n    return regex.test(walk.name) || regex.test(walk.description)||regex.test(walk.user.username);\n\n    // return regex.test(walk.name) || regex.test(walk.description)||regex.test(walk.user.username) ||regex.test(stopNames);\n  }\n\n  walksIndex.filter = filter;\n  walksIndex.all = Walk.query();\n}\n\n\n\n// SHOW AN INDIVIDUAL WALK\nWalksShowController.$inject = ['Walk', 'Stop', '$state', '$auth'];\nfunction WalksShowController(Walk, Stop, $state, $auth) {\n  const walksShow = this;\n  walksShow.formVisible = false;\n  // walksShow.formEditVisible = false;\n\n\n  walksShow.walk = Walk.get($state.params);\n\n  //ADD STOP CONTROLLER\n  walksShow.newStop = {\n    walk_id: $state.params.id\n  };\n\n  function showCreateForm() {\n    walksShow.formVisible = true;\n  }\n\n  function hideCreateForm() {\n    walksShow.formVisible = false;\n    walksShow.newStop = {};\n  }\n\n  walksShow.showCreateForm = showCreateForm;\n  walksShow.hideCreateForm = hideCreateForm;\n\n  // StopsNewController.$inject = ['Stop', '$state'];\n  // function StopsNewController(Stop, $state) {\n  //   const stopsNew = this;\n  //   stopsNew.stop = {};\n  //   function create() {\n  //     Stop.save(stopsNew.stop, (stop) => {\n  //       $state.go('stopsShow', { id: stop.id });\n  //     });\n  //   }\n  //   stopsNew.create = create;\n  // }\n\n  // CREATE STOP\n  // function createStop() {\n  //   Stop.save({ walk_id: $state.params.id }, walksShow.newStop, () => {\n  //     walksShow.stop = {};\n  //     hideCreateForm();\n  //     walksShow.walk = Walk.get($state.params);\n  //   });\n\n  function createStop() {\n    walksShow.newStop.walk_id = $state.params.id;\n    console.log('passing in: ', $state.params.id, walksShow.newStop );\n\n    Stop.save(walksShow.newStop, () => {\n      walksShow.stop = {};\n      hideCreateForm();\n      walksShow.walk = Walk.get($state.params);\n    });\n  }\n\n  walksShow.createStop = createStop;\n\n\n  function deleteWalk() {\n    walksShow.walk.$remove(() => {\n      $state.go('walksIndex');\n    });\n  }\n\n  walksShow.delete = deleteWalk;\n  walksShow.isLoggedIn = $auth.isAuthenicated;\n\n}\n\n//CREATE NEW WALK\nWalksNewController.$inject = ['Walk', '$state'];\nfunction WalksNewController(Walk, $state) {\n  const walksNew = this;\n  walksNew.walk = {};\n  function create() {\n    Walk.save(walksNew.walk, (walk) => {\n      $state.go('walksShow', { id: walk.id });\n    });\n  }\n  walksNew.create = create;\n}\n\n//EDIT A WALK\nWalksEditController.$inject = ['Walk', '$state'];\nfunction WalksEditController(Walk, $state) {\n  const walksEdit = this;\n\n  walksEdit.walk = Walk.get($state.params);\n\n  function update() {\n    walksEdit.walk.$update(() => {\n      $state.go('walksShow', $state.params);\n    });\n  }\n\n  this.update = update;\n\n}\n"]}